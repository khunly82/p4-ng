<div id="games">
  <p-button class="my-4" [disabled]="!!game() || status() !== 'connected'" label="Créer une partie" (onClick)="createGameOpen = true"></p-button>
  <p-dialog [(visible)]="createGameOpen"
            [style]="{width: '50vw'}" [breakpoints]="{ '920px': '70vw' }"
            [modal]="true"
            header="Créer une partie"
  >
    <app-create-game-form (onClose)="createGameOpen = false"></app-create-game-form>
  </p-dialog>
  <p-table [value]="games() ?? []">
    <ng-template pTemplate="header">
      <tr>
        <th>Rouge</th>
        <th class="text-center">VS</th>
        <th class="text-right">Jaune</th>
      </tr>
    </ng-template>
    <ng-template let-game pTemplate="body">
      <tr appGameRow [game]="game"></tr>
    </ng-template>
  </p-table>
</div>
<div id="currentGame">
  @if (game()) {
    <div class="text-right mb-3">
      <p-button severity="danger"
                size="small"
                label="Quitter la partie"
                (onClick)="leave()"></p-button>
    </div>
    <app-game-header class="mb-3" [game]="game()"></app-game-header>
    <app-grid [game]="game()"></app-grid>
  }
</div>

